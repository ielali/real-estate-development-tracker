# Story 10.15: Content Layout Fix - Remove Container Centering

## Status

**Current Status:** review

## User Story

As a **user**,
I want **content to expand and fill available space when the sidebar collapses**,
So that **I can utilize the full screen width for my work**.

## Story Context

**Existing System Integration:**

- Integrates with: ContentWrapper (Story 10.9), all page components
- Technology: Tailwind CSS, custom layouts
- Follows pattern: Replace `.container` class with explicit padding/max-width
- Touch points: ~50 page files across app directory
- Reference: `docs/design/CONTENT_CENTERING_ISSUE.md`

**Problem Statement:**

When the sidebar collapses from 256px to 64px, the `ContentWrapper` correctly adjusts the `margin-left` via animation. However, **all pages use the `.container` class** which has `margin: 0 auto` (centers content), causing the content to remain centered instead of expanding to fill the available space.

**Target Behavior:**

Content should have consistent padding on both sides and expand to fill the available width (up to a max-width), not center itself with equal margins.

## Acceptance Criteria

**Source Mapping:**

- AC 1: From content centering issue ".container mx-auto prevents content expansion" [Source: docs/design/CONTENT_CENTERING_ISSUE.md, lines 1-50]
- AC 2: From layout standards "Consistent horizontal padding px-6 (24px)" [Source: docs/architecture/coding-standards.md]
- AC 3: From target design "Content respects max-width constraints" [Source: docs/epics/EPIC-10.2-Design-Alignment.md, lines 179-197]
- AC 4, 5: From design specification "Auth and error pages remain centered" [Source: docs/epics/EPIC-10.2-Design-Alignment.md, lines 188]
- AC 6: From issue root cause "Remove .container mx-auto from ~50 pages" [Source: docs/design/CONTENT_CENTERING_ISSUE.md, lines 40-50; docs/epics/EPIC-10.2-Design-Alignment.md, lines 185]
- AC 7: From implementation approach "Create PageContainer helper component" [Source: docs/epics/EPIC-10.2-Design-Alignment.md, lines 187]
- AC 8: From Tailwind config "Container config center: true requires documentation" [Source: docs/design/CONTENT_CENTERING_ISSUE.md, lines 15-24]
- AC 9: From responsive requirement "No horizontal scroll on any screen size" [Source: docs/architecture/coding-standards.md]
- AC 10: From responsive testing "Correct behavior on mobile, tablet, desktop" [Source: docs/architecture/coding-standards.md]
- AC 11: From UX requirement "Content doesn't feel cramped or too wide" [Source: docs/epics/EPIC-10.2-Design-Alignment.md, lines 194]
- AC 12: From consistency requirement "Visual consistency maintained across pages" [Source: docs/architecture/coding-standards.md]
- AC 13: From quality gate "No layout breaks or content reflow issues" [Source: docs/architecture/coding-standards.md]

**Functional Requirements:**

1. Content expands to fill available width when sidebar collapses
2. Content maintains consistent horizontal padding (px-6 = 24px)
3. Content respects maximum width constraints where appropriate
4. Auth pages (login, register) remain centered (intentional design)
5. Error pages remain centered (intentional design)

**Integration Requirements:**

6. `.container` class removed from all main application pages
7. PageContainer component created as helper (optional)
8. Tailwind container config updated or usage documented
9. No horizontal scroll on any screen size

**Quality Requirements:**

10. Responsive behavior correct on all screen sizes (mobile, tablet, desktop)
11. Content doesn't feel cramped or too wide
12. Visual consistency maintained across pages
13. No layout breaks or content reflow issues

## Tasks / Subtasks

### Phase 1: Create PageContainer Component

- [ ] Task 1: Create PageContainer helper component (AC: 7)
  - [ ] Create file: `components/layout/PageContainer.tsx`
  - [ ] Define props: children, maxWidth, className
  - [ ] Implement padding: px-6 py-6
  - [ ] Implement max-width variants:
    - sm: 640px
    - md: 768px
    - lg: 1024px
    - xl: 1280px
    - 2xl: 1536px
    - 4xl: 1792px
    - 7xl: 2560px
    - full: no max-width
  - [ ] Add JSDoc documentation
  - [ ] Export from components/layout

### Phase 2: Audit Current Container Usage

- [ ] Task 2: Document all container usage (AC: 6)
  - [ ] List all pages using `.container mx-auto`
  - [ ] Categorize by max-width needs:
    - Forms: max-w-2xl (672px)
    - Details: max-w-4xl (896px)
    - Lists/Tables: max-w-7xl (1280px)
    - Full-width: max-w-none
  - [ ] Identify special cases (auth, error pages)
  - [ ] Create migration checklist

### Phase 3: Update High-Priority Pages

- [ ] Task 3: Update dashboard page (AC: 1,2,3)
  - [ ] Replace: `container mx-auto` → `px-6 py-6 max-w-7xl`
  - [ ] Test sidebar collapse (content expands)
  - [ ] Test responsive behavior
  - [ ] Verify no horizontal scroll

- [ ] Task 4: Update project pages (AC: 1,2,3)
  - [ ] Projects list (`app/projects/page.tsx`)
  - [ ] Project detail (`app/projects/[id]/page.tsx`)
  - [ ] Project costs (`app/projects/[id]/costs/page.tsx`)
  - [ ] Test sidebar collapse on each page
  - [ ] Verify tables fill available width

- [ ] Task 5: Update vendor pages (AC: 1,2,3)
  - [ ] Vendor dashboard (`app/vendors/dashboard/page.tsx`)
  - [ ] Vendor detail (`app/vendors/[id]/page.tsx`)
  - [ ] Test sidebar collapse
  - [ ] Verify list items expand

### Phase 4: Update Medium-Priority Pages

- [ ] Task 6: Update contacts pages (AC: 1,2,3)
  - [ ] Contacts list (`app/contacts/page.tsx`)
  - [ ] Contact detail (`app/contacts/[id]/page.tsx`)
  - [ ] Use max-w-7xl for lists
  - [ ] Test responsive behavior

- [ ] Task 7: Update portfolio and categories (AC: 1,2,3)
  - [ ] Portfolio page (`app/portfolio/page.tsx`)
  - [ ] Categories page (`app/categories/page.tsx`)
  - [ ] Test with sidebar collapse
  - [ ] Verify chart/visual components scale correctly

### Phase 5: Update Form Pages

- [ ] Task 8: Update form pages with narrower width (AC: 2,3)
  - [ ] New project (`app/projects/new/page.tsx`) → max-w-2xl
  - [ ] Edit project (`app/projects/[id]/edit/page.tsx`) → max-w-2xl
  - [ ] New cost (`app/projects/[id]/costs/new/page.tsx`) → max-w-2xl
  - [ ] Edit cost (`app/projects/[id]/costs/[costId]/edit/page.tsx`) → max-w-2xl
  - [ ] Forms should be narrower, not full-width

### Phase 6: Handle Special Cases

- [ ] Task 9: Preserve centering for auth pages (AC: 4)
  - [ ] Login page: Keep centered layout
  - [ ] Register page: Keep centered layout
  - [ ] Reset password: Keep centered layout
  - [ ] Forgot password: Keep centered layout
  - [ ] 2FA verify: Keep centered layout
  - [ ] Use pattern:
    ```tsx
    <div className="min-h-screen flex items-center justify-center">
      <div className="max-w-md w-full px-6">{/* form */}</div>
    </div>
    ```

- [ ] Task 10: Preserve centering for error pages (AC: 5)
  - [ ] 404 page: Keep centered
  - [ ] 500 page: Keep centered
  - [ ] Other error pages: Keep centered

### Phase 7: Update Settings Pages

- [ ] Task 11: Update settings pages (AC: 1,2,3)
  - [ ] Settings main (`app/settings/page.tsx`)
  - [ ] Notifications (`app/settings/notifications/page.tsx`)
  - [ ] Security pages (`app/settings/security/**`)
  - [ ] Settings has nested layout, update container there

### Phase 8: Update Remaining Pages

- [ ] Task 12: Update all remaining pages (AC: 1,2,3,6)
  - [ ] Project events pages
  - [ ] Project documents pages
  - [ ] Project partners pages
  - [ ] Project settings pages
  - [ ] Vendor compare page
  - [ ] Admin pages
  - [ ] Any other pages with container

### Phase 9: Remove/Update Tailwind Config

- [ ] Task 13: Update Tailwind container config (AC: 8)
  - [ ] Option A: Remove `center: true` from config
  - [ ] Option B: Keep config, document usage guidelines
  - [ ] Document: "Don't use `.container` for app pages"
  - [ ] Update ESLint rule to warn on `.container mx-auto` usage

### Phase 10: Testing & Validation

- [ ] Task 14: Test sidebar collapse on all pages (AC: 1)
  - [ ] Expand sidebar: Content has consistent padding
  - [ ] Collapse sidebar: Content expands to fill space
  - [ ] Test on dashboard
  - [ ] Test on project pages
  - [ ] Test on vendor pages
  - [ ] Test on contacts pages
  - [ ] Test on settings pages
  - [ ] Document any issues

- [ ] Task 15: Test responsive behavior (AC: 9,10)
  - [ ] Test on mobile (320px - 768px)
  - [ ] Test on tablet (768px - 1024px)
  - [ ] Test on desktop (1024px - 1920px)
  - [ ] Test on large desktop (1920px+)
  - [ ] Verify no horizontal scroll
  - [ ] Check touch target sizes on mobile

- [ ] Task 16: Visual consistency check (AC: 11,12,13)
  - [ ] Compare before/after screenshots
  - [ ] Verify padding consistent across pages
  - [ ] Check max-widths appropriate for content
  - [ ] Ensure no pages feel cramped or too wide
  - [ ] Test with real content/data

### Phase 11: Documentation

- [ ] Task 17: Update documentation
  - [ ] Document new layout pattern
  - [ ] Add PageContainer usage examples
  - [ ] Create layout guidelines for new pages
  - [ ] Document when to use each max-width
  - [ ] Add migration guide for future pages

## Dev Notes

### Learnings from Previous Story

**From Story 10.14 (Icon System - Material Symbols vs Lucide Decision):**

[Source: stories/10.14.story.md - Dev Agent Record, Senior Developer Review, lines 407-560]

**Modified Files:**

- `src/components/icons/FilledIcon.tsx` - New wrapper component for filled/outline icon states
- `src/components/icons/index.ts` - Centralized icon exports (all navigation icons)
- `src/components/layout/Sidebar.tsx` - Updated with FilledIcon, fixed TypeScript type (LucideIcon)
- `src/components/navigation/HorizontalNav.tsx` - Updated with FilledIcon, standardized icon size (w-5 h-5)
- `src/components/navigation/BottomTabBar.tsx` - Updated with FilledIcon, fixed TypeScript type
- Build SUCCESS, Bundle +0.5KB gzipped (well under 50KB limit)

**Key Architectural Decisions:**

- **Decision: Path B - Keep Lucide + Filled Wrapper** (minimal bundle impact, low risk, non-breaking change)
- **Wrapper Pattern:** FilledIcon component wraps Lucide icons with conditional filled state
- **Visual Effect:** strokeWidth (2.5 vs 2) + fill + fillOpacity creates visible distinction for active/inactive states
- **Centralized Imports:** All icons exported from components/icons/index.ts for easy maintenance and future library swaps
- **Type Safety:** LucideIcon type ensures consistency across navigation components
- **Icon Sizes:** w-5 h-5 (20px) desktop navigation, w-6 h-6 (24px) mobile touch targets
- **Accessibility:** All decorative icons use aria-hidden="true" with visible text labels (WCAG AA compliant)
- **Animation:** Icons inherit parent transition-colors/transition-all (200ms duration from Story 10.12)

**Review Notes:**

- APPROVED with no blockers (Senior Developer Review)
- Advisory notes (LOW severity): Consider adding unit tests for FilledIcon component
- All 13 acceptance criteria implemented and verified
- Seamless integration with Story 10.13 color system (bg-primary-light + text-primary active states)

**Integration Notes for Current Story:**

- Content layout changes must coordinate with sidebar collapse animation timing (200ms duration)
- ContentWrapper (Story 10.9) adjusts margin-left: 256px → 64px when sidebar collapses
- Content must expand to fill reclaimed space (192px width gain) instead of remaining centered
- Z-index context: Content is z-0 layer, below Sidebar (z-40), HorizontalNav (z-20)
- Icon system (Story 10.14) and color system (Story 10.13) are independent of layout changes
- No impact on navigation component rendering or icon filled/outline states
- PageContainer component should not interfere with Sidebar or HorizontalNav positioning
- Maintain 200ms animation standard for any content transitions during sidebar collapse

### Implementation Approach

Replace `.container mx-auto` pattern with explicit padding and max-width:

**Before:**

```tsx
<div className="container mx-auto p-6">{/* content */}</div>
```

**After (Option 1 - Direct classes):**

```tsx
<div className="px-6 py-6 max-w-7xl">{/* content */}</div>
```

**After (Option 2 - PageContainer component):**

```tsx
<PageContainer maxWidth="7xl">{/* content */}</PageContainer>
```

### PageContainer Component

```tsx
// components/layout/PageContainer.tsx
import { ReactNode } from "react"
import { cn } from "@/lib/utils"

type MaxWidth = "sm" | "md" | "lg" | "xl" | "2xl" | "4xl" | "7xl" | "full"

interface PageContainerProps {
  children: ReactNode
  maxWidth?: MaxWidth
  className?: string
}

const maxWidthClasses: Record<MaxWidth, string> = {
  sm: "max-w-sm",       // 640px - narrow forms
  md: "max-w-md",       // 768px - medium forms
  lg: "max-w-lg",       // 1024px - reading content
  xl: "max-w-xl",       // 1280px - wider content
  "2xl": "max-w-2xl",   // 1536px - forms, details
  "4xl": "max-w-4xl",   // 1792px - detail pages
  "7xl": "max-w-7xl",   // 2560px - lists, tables
  full: "max-w-none",   // no limit - full width
}

/**
 * PageContainer - Standard page content wrapper
 *
 * Provides consistent padding and optional max-width constraints.
 * Content expands to fill available width (not centered).
 *
 * @example
 * <PageContainer maxWidth="7xl">
 *   <h1>Dashboard</h1>
 *   {/* content */}
 * </PageContainer>
 */
export function PageContainer({
  children,
  maxWidth = "7xl",
  className,
}: PageContainerProps) {
  return (
    <div className={cn("px-6 py-6", maxWidthClasses[maxWidth], className)}>
      {children}
    </div>
  )
}
```

### Max-Width Guidelines

Use appropriate max-width for content type:

- **Forms (sm-2xl):** 640px - 1536px
  - Login, registration, settings forms
  - New/edit pages (projects, costs, contacts)
  - Narrow content for better readability

- **Detail Pages (4xl):** 1792px
  - Project detail
  - Contact detail
  - Vendor detail
  - Moderate width for content + sidebar

- **Lists/Tables (7xl):** 2560px
  - Dashboard
  - Project list
  - Vendor dashboard
  - Tables need horizontal space

- **Full Width (full):** No max-width
  - Charts, graphs
  - Maps
  - Image galleries
  - Use sparingly

### Migration Checklist Template

For each page:

1. ✅ Identify current container usage
2. ✅ Determine appropriate max-width
3. ✅ Replace with PageContainer or direct classes
4. ✅ Test sidebar collapse (content expands)
5. ✅ Test responsive behavior (mobile, tablet, desktop)
6. ✅ Verify no horizontal scroll
7. ✅ Check visual spacing consistency

### Pages by Priority

**High Priority (Test these first):**

- Dashboard (`app/page.tsx`)
- Projects list (`app/projects/page.tsx`)
- Project detail (`app/projects/[id]/page.tsx`)
- Project costs (`app/projects/[id]/costs/page.tsx`)

**Medium Priority:**

- Contacts, Portfolio, Categories
- Vendor pages
- Settings pages

**Low Priority (Special cases):**

- Auth pages (keep centered)
- Error pages (keep centered)
- Admin pages (test last)

### Testing Standards

- Test sidebar collapse on each updated page
- Screenshot before/after for comparison
- Verify no horizontal scroll (use Chrome DevTools responsive mode)
- Test on real devices if possible
- Check with various content lengths (empty, partial, full)

### References

**Content Centering Issue Analysis:**

[Source: docs/design/CONTENT_CENTERING_ISSUE.md, lines 1-50]

- Root cause: `.container` class has `center: true` in Tailwind config causing `mx-auto` (margin: 0 auto)
- Evidence: Every page uses `<div className="container mx-auto p-6">` pattern
- Problem: Content remains centered even when ContentWrapper adjusts margin-left (256px → 64px)
- Impact: 192px of reclaimed space (sidebar collapse) is wasted with equal margins on both sides
- Solution: Remove `.container mx-auto` from all main application pages, replace with explicit padding and max-width

**Epic Context:**

[Source: docs/epics/EPIC-10.2-Design-Alignment.md, lines 179-197 - Story 10.15 description]

- Remove `.container mx-auto` from ~50 pages
- Replace with explicit padding (px-6) and max-width constraints
- Create PageContainer helper component for consistent usage
- Preserve centering for auth/error pages (intentional design)
- Risk: Medium (touches many files, visual changes)
- Estimated effort: 2-3 hours
- Priority: High (improves screen real estate utilization)

**Story 10.9 - ContentWrapper Integration:**

[Source: stories/10.9.story.md - ContentWrapper implementation]

- ContentWrapper uses Framer Motion to animate margin-left: 256px → 64px (200ms duration)
- Animation easing: [0.4, 0, 0.2, 1] (cubic-bezier standard from Story 10.12)
- Content wrapper provides 192px width gain when sidebar collapses
- Current issue: Content centering prevents expansion into reclaimed space
- Integration: PageContainer must allow content to expand, not center with mx-auto

**Tailwind Config Context:**

[Source: apps/web/tailwind.config.ts, lines 11-17; docs/design/CONTENT_CENTERING_ISSUE.md, lines 15-24]

- Container config: `center: true` adds `mx-auto` to all `.container` usage
- Max-width: `2xl: 1400px` limits container width
- Padding: `2rem` (32px) - different from target px-6 (24px)
- Decision needed: Remove `center: true` OR document "don't use .container for app pages"

**Architecture Patterns:**

[Source: docs/architecture/coding-standards.md - Layout best practices]

- Consistent horizontal padding: px-6 (24px) for all application pages
- Responsive layout: No horizontal scroll on any screen size (320px - 2560px)
- Max-width guidelines: Forms (sm-2xl), Details (4xl), Lists/Tables (7xl), Full-width (none)
- Visual consistency: Padding and spacing should be uniform across pages
- Accessibility: Touch targets minimum 44px (mobile), content readable at all sizes

**Previous Story Integration:**

[Source: stories/10.14.story.md - Dev Agent Record, Icon System]

- Z-index layering: Content is z-0 layer, below Sidebar (z-40), HorizontalNav (z-20), BottomTabBar (z-30)
- Animation standards: 200ms duration for all layout transitions (from Story 10.12)
- Content layout independent of icon system (Story 10.14) and color system (Story 10.13)
- PageContainer should not interfere with navigation component positioning or rendering

**Max-Width Guidelines by Content Type:**

[Source: Story 10.15 Dev Notes - Max-Width Guidelines, lines 345-370]

- Forms (sm-2xl): 640px - 1536px (login, registration, settings forms, new/edit pages)
- Detail Pages (4xl): 1792px (project detail, contact detail, vendor detail)
- Lists/Tables (7xl): 2560px (dashboard, project list, vendor dashboard - tables need horizontal space)
- Full Width (full): No max-width (charts, graphs, maps, image galleries - use sparingly)

### Project Structure Notes

[Source: docs/architecture/unified-project-structure.md]

**File Locations (50+ Pages to Modify):**

**High Priority Pages:**

- **Dashboard:** `apps/web/src/app/page.tsx` (MODIFY - replace container with px-6 py-6 max-w-7xl)
- **Projects list:** `apps/web/src/app/projects/page.tsx` (MODIFY - max-w-7xl for table)
- **Project detail:** `apps/web/src/app/projects/[id]/page.tsx` (MODIFY - max-w-4xl for details)
- **Project costs:** `apps/web/src/app/projects/[id]/costs/page.tsx` (MODIFY - max-w-7xl for table)

**Medium Priority Pages:**

- **Contacts:** `apps/web/src/app/contacts/page.tsx`, `apps/web/src/app/contacts/[id]/page.tsx` (MODIFY - max-w-7xl list, max-w-4xl detail)
- **Vendors:** `apps/web/src/app/vendors/dashboard/page.tsx`, `apps/web/src/app/vendors/[id]/page.tsx` (MODIFY - max-w-7xl list, max-w-4xl detail)
- **Portfolio:** `apps/web/src/app/portfolio/page.tsx` (MODIFY - max-w-7xl)
- **Categories:** `apps/web/src/app/categories/page.tsx` (MODIFY - max-w-7xl)

**Form Pages (Narrow Width):**

- **New/Edit forms:** `apps/web/src/app/projects/new/page.tsx`, `apps/web/src/app/projects/[id]/edit/page.tsx` (MODIFY - max-w-2xl)
- **Cost forms:** `apps/web/src/app/projects/[id]/costs/new/page.tsx`, `apps/web/src/app/projects/[id]/costs/[costId]/edit/page.tsx` (MODIFY - max-w-2xl)

**Settings Pages:**

- **Settings:** `apps/web/src/app/settings/page.tsx`, nested pages (MODIFY - max-w-4xl)

**Special Cases (Preserve Centering):**

- **Auth pages:** `apps/web/src/app/(auth)/login/page.tsx`, `register/page.tsx` (KEEP - centered with flex items-center justify-center)
- **Error pages:** `apps/web/src/app/not-found.tsx`, `error.tsx` (KEEP - centered)

**New Component:**

- **PageContainer:** `apps/web/src/components/layout/PageContainer.tsx` (CREATE - helper component)

**Tailwind Config:**

- **Config:** `apps/web/tailwind.config.ts` (MODIFY - document container usage OR remove center: true)

**Implementation Patterns:**

**Option 1: Direct Classes (No Component)**

```tsx
// Before:
<div className="container mx-auto p-6">{/* content */}</div>

// After:
<div className="px-6 py-6 max-w-7xl">{/* content */}</div>
```

**Option 2: PageContainer Component (Recommended)**

```tsx
// Create component: apps/web/src/components/layout/PageContainer.tsx
import { ReactNode } from "react"
import { cn } from "@/lib/utils"

type MaxWidth = "sm" | "md" | "lg" | "xl" | "2xl" | "4xl" | "7xl" | "full"

interface PageContainerProps {
  children: ReactNode
  maxWidth?: MaxWidth
  className?: string
}

export function PageContainer({
  children,
  maxWidth = "7xl",
  className,
}: PageContainerProps) {
  const maxWidthClasses = {
    sm: "max-w-sm",
    md: "max-w-md",
    lg: "max-w-lg",
    xl: "max-w-xl",
    "2xl": "max-w-2xl",
    "4xl": "max-w-4xl",
    "7xl": "max-w-7xl",
    full: "max-w-none",
  }

  return (
    <div className={cn("px-6 py-6", maxWidthClasses[maxWidth], className)}>
      {children}
    </div>
  )
}

// Usage in pages:
<PageContainer maxWidth="7xl">{/* dashboard content */}</PageContainer>
<PageContainer maxWidth="4xl">{/* detail page content */}</PageContainer>
<PageContainer maxWidth="2xl">{/* form content */}</PageContainer>
```

**Component Relationships:**

- ContentWrapper (Story 10.9) adjusts margin-left based on sidebar state (256px expanded, 64px collapsed)
- PageContainer provides padding (px-6) and max-width constraints within ContentWrapper
- No mx-auto centering - content expands to fill available width
- Auth/error pages bypass PageContainer, use centered flex layout directly
- Sidebar, HorizontalNav, BottomTabBar positioning unaffected by content layout changes

**Migration Strategy:**

1. Create PageContainer component (Phase 1)
2. Test on dashboard page first (Phase 3, Task 3)
3. Verify sidebar collapse expands content (192px width gain)
4. Batch update high-priority pages (dashboard, projects, vendors)
5. Update medium-priority pages (contacts, portfolio, categories)
6. Update form pages with narrower max-width (max-w-2xl)
7. Update settings pages
8. Preserve special cases (auth, error pages)
9. Update Tailwind config documentation
10. Visual regression testing on all updated pages

## Definition of Done

- [ ] PageContainer component created
- [ ] All main application pages updated (no `.container mx-auto`)
- [ ] Dashboard content expands with sidebar collapse
- [ ] Project pages content expands with sidebar collapse
- [ ] Auth pages remain centered (intentional)
- [ ] Error pages remain centered (intentional)
- [ ] No horizontal scroll on any page
- [ ] Responsive behavior correct (mobile, tablet, desktop)
- [ ] Content padding consistent (px-6)
- [ ] Max-widths appropriate for content type
- [ ] Visual consistency maintained
- [ ] No layout breaks or reflow issues
- [ ] Tailwind config updated or documented
- [ ] Documentation updated with new pattern
- [ ] Tests pass (visual regression)
- [ ] Build succeeds with no errors
- [ ] Code reviewed and approved
- [ ] Story status updated to "Done"

## Risk and Compatibility Check

**Minimal Risk Assessment:**

- **Primary Risk:** Changing 50+ pages may introduce layout issues
- **Mitigation:** Test each page, incremental rollout, visual regression tests
- **Rollback:** Revert specific pages or full PR if major issues

**Compatibility Verification:**

- [ ] No pages with horizontal scroll
- [ ] Content doesn't feel too wide or cramped
- [ ] Tables fill available width appropriately
- [ ] Forms remain readable (not too wide)
- [ ] Mobile layout not affected
- [ ] Sidebar collapse animation smooth
- [ ] No content reflow during animation

## Validation Checklist

**Scope Validation:**

- [x] Story requires systematic page updates (2-3 hours)
- [x] Integration approach is straightforward (replace classes)
- [x] Follows best practices (explicit layout, no auto-centering)
- [x] No backend changes required

**Clarity Check:**

- [x] Story requirements are clear (remove container centering)
- [x] Integration points are well-defined (all page files)
- [x] Success criteria are testable (sidebar collapse, no scroll)
- [x] Rollback approach exists (revert changes)

---

## Change Log

| Date         | Version | Description                                                     | Author                |
| ------------ | ------- | --------------------------------------------------------------- | --------------------- |
| Nov 12, 2025 | 1.0     | Initial story creation                                          | Dev Agent             |
| Nov 12, 2025 | 1.1     | Quality improvements: Added Dev Notes subsections and citations | Bob (Scrum Master AI) |

---

## Dev Agent Record

**Context Reference:**

- Story Context: `docs/stories/10.15.context.xml` (Generated: 2025-11-12)

_Implementation notes to be added during development_

---

## QA Results

_To be populated after QA review_

---

**Story Status:** Approved
**Estimated Effort:** 2-3 hours
**Dependencies:** Story 10.9 (ContentWrapper), all pages migrated
**Epic:** EPIC-10.2 - Design Alignment with Target Specification
**Created:** November 12, 2025
**Last Updated:** November 12, 2025

---

## Quick Start Guide

**Fastest implementation approach:**

1. Create PageContainer component (5 min)
2. Update dashboard page to test (2 min)
3. Test sidebar collapse - verify content expands (1 min)
4. If working, batch update remaining pages (1-2 hours)
5. Test each page category (30 min)

**Use find/replace for speed:**

```bash
# Find pages with container
rg "container mx-auto" apps/web/src/app --files-with-matches

# Batch replace (review each file)
# container mx-auto p-6 → px-6 py-6 max-w-7xl
```
